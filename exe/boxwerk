#!/usr/bin/env ruby
# frozen_string_literal: true

unless defined?(Ruby::Box)
  $stderr.puts "Error: Ruby::Box is not available"
  $stderr.puts "Boxwerk requires Ruby 4.0 or later with Box support"
  exit 1
end

unless Ruby::Box.enabled?
  $stderr.puts "Ruby Box is disabled. Set RUBY_BOX=1 environment variable to use Ruby::Box."
  exit 1
end

Ruby::Box.root.eval(<<~RUBY)
  require 'bundler/setup'
  Bundler.require
  Boxwerk::CLI.run(ARGV)
RUBY
